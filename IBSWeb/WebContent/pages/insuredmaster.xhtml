<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      >
  <h:body>
  	    <ui:composition template="/template/common/commonLayout.xhtml">
    		<ui:define name="content">
  				<h:form name="insuredmasterform">
  					<p:messages id="messages" autoUpdate="true" closable="true" />
					<p:panel id="panelInsured" header="Insured Details" style="margin-bottom:10px;"> 
				       			 <h:panelGrid columns="8" style="width:100%;">  
				       			 	
							        <p:outputLabel value="Customer" for="customerid" title="Existing customers whose name starts with entered value will be listed"/>
							        <p:autoComplete title="Existing customers whose name starts with entered value will be listed"   placeholder="Enter Customer Name"  id="customerid" value="#{insuredMasterMB.customerVO}" completeMethod="#{insuredMasterMB.completeCustomersListMethod}"
							                        var="customer" itemLabel="#{customer.name}" itemValue="#{customer}"  converter="customerConverter"  forceSelection="true" required="true" requiredMessage="Please select a customer">
							            <p:column>
							                <h:outputText value="#{customer.name}" />
							            </p:column>
							        </p:autoComplete>
							        							
				       			 	<p:outputLabel for="salutation" value="Salutation" />  
            						<p:selectOneMenu id="salutation" value="#{insuredMasterMB.insuredDetails.salutation}" style="width:160px;"  required="true"  label="Salutation" requiredMessage="Please select the Salutation">  
                						<f:selectItem itemLabel="Select Salutation" itemValue="" />  
                						<f:selectItems value="#{editCustEnqDetailsMB.salutations}" />  
            						</p:selectOneMenu>  
				   
						       		<p:outputLabel for="name" value="Name" />  
						            <p:inputText id="name" value="#{insuredMasterMB.insuredDetails.name}" 
						            required="true" label="Name" requiredMessage="Please enter the Name" validatorMessage="Name should be minimum of 4 character and maximum of 50 characters">
									<f:validateLength minimum="4" maximum="50"/>  
									</p:inputText>
						            			              
						            <p:outputLabel for="primaryEmailID" value="EmailID" />  
						            <p:inputText id="primaryEmailID" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.emailId}" 
										required="true"  label="EmailID" requiredMessage="Please enter the EmailID" validatorMessage="Invalid email format, Please enter the correct EmailID">
									<f:validateRegex 
									pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					   				</p:inputText>
					   				
						            
						            <p:outputLabel for="primMobNum" value="Mobile Number" />  
						            <p:inputText id="primMobNum" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.mobileNo}" 
						            	required="true" label="Mobile Number"  requiredMessage="Please enter the MobileNumber" converterMessage="Alphabets are not allowed , Please Enter the Correct Mobile Number" validatorMessage="MobileNumber should be of 8 digits">
										<f:convertNumber integerOnly="true" type="number" for="primMobNum" pattern="###"/>
										<f:validateLength minimum="8" maximum="8"  for="primMobNum"/>  
									</p:inputText>
						            
						            <p:outputLabel for="primLandNum" value="LandLine Number" /> 
						       		<p:inputText id="primLandNum" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.landlineNo}" 
						       		required="false" converterMessage="Alphabets are not allowed , Please enter the correct LandLine Number" validatorMessage="LandLine Number should be of 8 digits">
									<f:convertNumber integerOnly="true" type="number" for="primLandNum" pattern="###"/>
									<f:validateLength minimum="8" maximum="8"  for="primLandNum"/>  
									</p:inputText> 
            					
						            <p:outputLabel for="faxNum" value="Fax Number" />
						            <p:inputText id="faxNum" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.faxNo}" 
						            required="false" converterMessage="Alphabets are not allowed ,Please enter the correct Fax Number" validatorMessage="Fax Number should not be more than 50 characters">
									<f:convertNumber integerOnly="true" type="number" for="faxNum" pattern="###"/>
									<f:validateLength maximum="25"  for="faxNum"/>  	
									</p:inputText>
						            
						            <p:outputLabel for="city" value="City"/>  
						            <p:inputText id="city" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.addressVO.city}" validatorMessage="Numbers\Special characters are not allowed in the city field"
									required="false" >
									<f:validateRegex pattern="[a-zA-Z]*"></f:validateRegex> 
									<f:validateLength maximum="50"  for="city"/>  	
           			 				</p:inputText> 
           			 				 

						            <p:outputLabel for="country" value="Country" />
						            <p:inputText id="country"  value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.addressVO.country}" validatorMessage="Numbers\Special characters are not allowed in the country field"
									required="false" >
									<f:validateRegex pattern="[a-zA-Z]*"></f:validateRegex> 
									<f:validateLength maximum="50"  for="country"/>  	
           			 				</p:inputText> 
           			 				 

						            <p:outputLabel for="address" value="Address" />  
						            <p:inputText id="address" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.addressVO.address}"  
						            required="false" validatorMessage="Address should not be more than 100 characters">
									<f:validateLength maximum="100"  for="address"/> 
									</p:inputText>
						  
						            <p:outputLabel for="poBox" value="PO Box" />  
						            <p:inputText id="poBox" value="#{insuredMasterMB.insuredDetails.contactAndAddrDetails.addressVO.poBox}" 
						            required="true"  label="PO Box" requiredMessage="Please enter the PO Box Number" converterMessage="Alphabets are not allowed, Please enter the correct PO Box Number">
					   				<f:convertNumber integerOnly="true" type="number" for="poBox" pattern="###"/>
					   				<f:validateLength maximum="10"  for="poBox"/> 
					   				</p:inputText> 
						            
						            <p:outputLabel for="salesexe" value="Sales Executive" />
						            <p:inputText id="salesexe" value="#{insuredMasterMB.insuredDetails.salesExecutive}" 
						             label="Sales Executive">
					   				</p:inputText>
						            
						            <p:outputLabel for="insuredID" value="Insured ID" />
						            <p:inputText id="insuredID" value="#{insuredMasterMB.insuredDetails.id}" disabled="true" required="false" />  
						       
			       				</h:panelGrid>
				</p:panel>
				<p:commandButton id="savebtn" value="Save" action="#{insuredMasterMB.save}"
					update="messages, panelInsured"  validateClient="true" icon="ui-icon-disk"
					style="float:right:20px;" />
				<p:blockUI block="panelInsured" trigger="savebtn">
					LOADING<br />  
      				<p:graphicImage value="../images/ajax-loader.gif"/>
  				</p:blockUI>
  				</h:form>
  			</ui:define>
  		</ui:composition>
  </h:body>
</html>